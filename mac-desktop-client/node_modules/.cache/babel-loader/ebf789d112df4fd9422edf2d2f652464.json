{"ast":null,"code":"// 能发送ajax请求的函数模块 函数的返回值是promise对象\nimport axios from 'axios';\nexport default function ajax(url, data = {}, type = 'GET') {\n  if (type === 'GET') {\n    //发送get请求\n    // 准备 url query参数数据\n    let dataStr = ''; // 数据拼接字符串\n\n    Object.keys(data).forEach(key => {\n      //key就是属性名\n      dataStr += key + '=' + data[key] + '&';\n    });\n\n    if (dataStr !== '') //已拼接过\n      {\n        dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'));\n        url = url + '?' + dataStr;\n      }\n\n    return axios.get(url);\n  } else {\n    // 发送post请求\n    return axios.post(url, data); //data为包含请求体数据的对象\n  }\n}","map":{"version":3,"sources":["E:/web  --/项目二/mac-desktop-client/src/api/ajax.js"],"names":["axios","ajax","url","data","type","dataStr","Object","keys","forEach","key","substring","lastIndexOf","get","post"],"mappings":"AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAmBC,IAAI,GAAC,EAAxB,EAA4BC,IAAI,GAAC,KAAjC,EAAwC;AACnD,MAAIA,IAAI,KAAK,KAAb,EAAoB;AAAG;AACnB;AACA,QAAIC,OAAO,GAAG,EAAd,CAFgB,CAGhB;;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYJ,IAAZ,EAAkBK,OAAlB,CAA0BC,GAAG,IAAI;AAAG;AAChCJ,MAAAA,OAAO,IAAII,GAAG,GAAG,GAAN,GAAYN,IAAI,CAACM,GAAD,CAAhB,GAAwB,GAAnC;AACH,KAFD;;AAIA,QAAIJ,OAAO,KAAK,EAAhB,EAAoB;AACpB;AACIA,QAAAA,OAAO,GAAGA,OAAO,CAACK,SAAR,CAAkB,CAAlB,EAAqBL,OAAO,CAACM,WAAR,CAAoB,GAApB,CAArB,CAAV;AACAT,QAAAA,GAAG,GAAGA,GAAG,GAAG,GAAN,GAAYG,OAAlB;AACC;;AACL,WAAOL,KAAK,CAACY,GAAN,CAAUV,GAAV,CAAP;AACH,GAdD,MAgBK;AACD;AACA,WAAOF,KAAK,CAACa,IAAN,CAAWX,GAAX,EAAeC,IAAf,CAAP,CAFC,CAE4B;AAChC;AACJ","sourcesContent":["// 能发送ajax请求的函数模块 函数的返回值是promise对象\r\n\r\nimport axios from 'axios'\r\n\r\nexport default function ajax(url, data={}, type='GET') {\r\n    if (type === 'GET') {  //发送get请求\r\n        // 准备 url query参数数据\r\n        let dataStr = ''\r\n        // 数据拼接字符串\r\n        Object.keys(data).forEach(key => {  //key就是属性名\r\n            dataStr += key + '=' + data[key] + '&'\r\n        })\r\n\r\n        if (dataStr !== '') //已拼接过\r\n        {\r\n            dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'))\r\n            url = url + '?' + dataStr\r\n            }\r\n        return axios.get(url)\r\n    }\r\n\r\n    else {\r\n        // 发送post请求\r\n        return axios.post(url,data)  //data为包含请求体数据的对象\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}