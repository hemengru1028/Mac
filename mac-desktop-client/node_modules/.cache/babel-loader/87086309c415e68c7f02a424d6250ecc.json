{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\n\nvar _jsxFileName = \"E:\\\\web  --\\\\\\u9879\\u76EE\\u4E8C\\\\mac-desktop-client\\\\src\\\\containers\\\\register\\\\register.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport '../../assets/css/register.css';\nimport { register } from '../../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 18\n    },\n    sm: {\n      span: 7\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 18\n    },\n    sm: {\n      span: 18\n    }\n  }\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0\n    },\n    sm: {\n      span: 10,\n      offset: 7\n    }\n  }\n};\n\nfunction Register(props) {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmpassword, setconfirmpassword] = useState('');\n  let history = useHistory(); // const dispatch = useDispatch();\n\n  const onFinish = () => {\n    if (!username || !password || !confirmpassword) {\n      return _message.error('未输入用户名或密码');\n    }\n\n    props.register({\n      username,\n      password\n    });\n  }; // <Redirect to='/login'/>\n\n\n  const {\n    msg\n  } = props.user; //  console.log(msg);\n  // 注册成功后跳转到登录页面\n\n  if (msg === '注册成功！') {\n    //  props.history.push('/login')\n    // <Redirect to='/login'/>\n    history.push('/login');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"RegisterForm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-form-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"register-title\",\n        children: \"Sign up \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this), msg ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-msg\",\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 16\n    }, this) : null, /*#__PURE__*/_jsxDEV(_Form, { ...formItemLayout,\n      name: \"normal_login\",\n      className: \"register-form\",\n      initialValues: {\n        remember: true\n      },\n      onFinish: onFinish,\n      children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n        name: \"username\",\n        label: \"\\u7528\\u6237\\u540D\" // tooltip=\"What do you want others to call you?\"\n        ,\n        rules: [{\n          required: true,\n          message: '请输入用户名！',\n          whitespace: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(_Input, {\n          name: \"username\",\n          onChange: e => {\n            setUsername(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n        name: \"password\",\n        label: \"\\u8F93\\u5165\\u5BC6\\u7801\",\n        rules: [{\n          required: true,\n          message: '请输入密码！'\n        }],\n        hasFeedback: true,\n        children: /*#__PURE__*/_jsxDEV(_Input.Password, {\n          name: \"password\",\n          onChange: e => {\n            setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n        name: \"confirmpassword\",\n        label: \"\\u786E\\u8BA4\\u5BC6\\u7801\",\n        dependencies: ['password'],\n        hasFeedback: true,\n        rules: [{\n          required: true,\n          message: '请确认密码！'\n        }, ({\n          getFieldValue\n        }) => ({\n          validator(_, value) {\n            if (!value || getFieldValue('password') === value) {\n              return Promise.resolve();\n            }\n\n            return Promise.reject(new Error('两次输入密码不一致！'));\n          }\n\n        })],\n        children: /*#__PURE__*/_jsxDEV(_Input.Password, {\n          name: \"confirmpassword\",\n          onChange: e => {\n            setconfirmpassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Form.Item, { ...tailFormItemLayout,\n        children: /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          className: \"register-form-button\",\n          children: \"\\u6CE8\\u518C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-prompt\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u5DF2\\u6709\\u8D26\\u53F7? \\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"\\u53BB\\u767B\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Register, \"Oc7VO/b0NT74o7WDZDTLQ9qB/r0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\nexport default connect(state => ({\n  user: state.user\n}), {\n  register\n})(Register);\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["E:/web  --/项目二/mac-desktop-client/src/containers/register/register.jsx"],"names":["React","useState","Link","Redirect","connect","useHistory","register","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","Register","props","username","setUsername","password","setPassword","confirmpassword","setconfirmpassword","history","onFinish","error","msg","user","push","remember","required","message","whitespace","e","target","value","getFieldValue","validator","_","Promise","resolve","reject","Error","state"],"mappings":";;;;;;;;;;;;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,IAAT,EAAeC,QAAf,QAA8B,kBAA9B;AACA,SAASC,OAAT,QAAyB,aAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAO,+BAAP;AACA,SAAQC,QAAR,QAAuB,qBAAvB;;AAGA,MAAMC,cAAc,GAAG;AACnBC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,EAAE,EAAE;AACFC,MAAAA,IAAI,EAAE;AADJ,KADI;AAIRC,IAAAA,EAAE,EAAE;AACFD,MAAAA,IAAI,EAAE;AADJ;AAJI,GADS;AASnBE,EAAAA,UAAU,EAAE;AACVH,IAAAA,EAAE,EAAE;AACFC,MAAAA,IAAI,EAAE;AADJ,KADM;AAIVC,IAAAA,EAAE,EAAE;AACFD,MAAAA,IAAI,EAAE;AADJ;AAJM;AATO,CAAvB;AAmBA,MAAMG,kBAAkB,GAAG;AAC3BD,EAAAA,UAAU,EAAE;AACVH,IAAAA,EAAE,EAAE;AACFC,MAAAA,IAAI,EAAE,EADJ;AAEFI,MAAAA,MAAM,EAAE;AAFN,KADM;AAKVH,IAAAA,EAAE,EAAE;AACFD,MAAAA,IAAI,EAAE,EADJ;AAEFI,MAAAA,MAAM,EAAE;AAFN;AALM;AADe,CAA3B;;AAcA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AAErB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACkB,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC,EAAD,CAAxC;AACF,QAAM,CAACoB,eAAD,EAAkBC,kBAAlB,IAAwCrB,QAAQ,CAAC,EAAD,CAAtD;AAGA,MAAIsB,OAAO,GAAGlB,UAAU,EAAxB,CAPuB,CAQvB;;AAEA,QAAMmB,QAAQ,GAAG,MAAM;AAEjB,QAAI,CAACP,QAAD,IAAa,CAACE,QAAd,IAA0B,CAACE,eAA/B,EAAgD;AAC9C,aAAO,SAAQI,KAAR,CAAc,WAAd,CAAP;AACD;;AACLT,IAAAA,KAAK,CAACV,QAAN,CAAe;AAAEW,MAAAA,QAAF;AAAYE,MAAAA;AAAZ,KAAf;AAEC,GAPH,CAVuB,CAmBrB;;;AACF,QAAM;AAAEO,IAAAA;AAAF,MAAUV,KAAK,CAACW,IAAtB,CApBuB,CAqBzB;AACE;;AACA,MAAID,GAAG,KAAK,OAAZ,EAAqB;AACrB;AACE;AACAH,IAAAA,OAAO,CAACK,IAAR,CAAa,QAAb;AAED;;AAGC,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACQ;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,6BACA;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YADR,EAKCF,GAAG,gBAAG;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,gBAA4BA;AAA5B;AAAA;AAAA;AAAA;AAAA,YAAH,GAA4C,IALhD,eAOE,oBACQnB,cADR;AAEJ,MAAA,IAAI,EAAC,cAFD;AAGJ,MAAA,SAAS,EAAC,eAHN;AAIJ,MAAA,aAAa,EAAE;AACbsB,QAAAA,QAAQ,EAAE;AADG,OAJX;AAOJ,MAAA,QAAQ,EAAEL,QAPN;AAAA,8BASL,cAAM,IAAN;AACG,QAAA,IAAI,EAAC,UADR;AAEG,QAAA,KAAK,EAAC,oBAFT,CAGG;AAHH;AAIG,QAAA,KAAK,EAAE,CACL;AACEM,UAAAA,QAAQ,EAAE,IADZ;AAEEC,UAAAA,OAAO,EAAE,SAFX;AAGEC,UAAAA,UAAU,EAAE;AAHd,SADK,CAJV;AAAA,+BAYS;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,QAAQ,EAAIC,CAAD,IAAK;AAACf,YAAAA,WAAW,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B;AAApE;AAAA;AAAA;AAAA;AAAA;AAZT;AAAA;AAAA;AAAA;AAAA,cATK,eAwBL,cAAM,IAAN;AACG,QAAA,IAAI,EAAC,UADR;AAEG,QAAA,KAAK,EAAC,0BAFT;AAGG,QAAA,KAAK,EAAE,CACL;AACEL,UAAAA,QAAQ,EAAE,IADZ;AAEEC,UAAAA,OAAO,EAAE;AAFX,SADK,CAHV;AASG,QAAA,WAAW,MATd;AAAA,+BAWG,eAAO,QAAP;AAAgB,UAAA,IAAI,EAAC,UAArB;AAAgC,UAAA,QAAQ,EAAIE,CAAD,IAAK;AAACb,YAAAA,WAAW,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B;AAA7E;AAAA;AAAA;AAAA;AAAA;AAXH;AAAA;AAAA;AAAA;AAAA,cAxBK,eAsCF,cAAM,IAAN;AACA,QAAA,IAAI,EAAC,iBADL;AAEA,QAAA,KAAK,EAAC,0BAFN;AAGA,QAAA,YAAY,EAAE,CAAC,UAAD,CAHd;AAIA,QAAA,WAAW,MAJX;AAKA,QAAA,KAAK,EAAE,CACL;AACEL,UAAAA,QAAQ,EAAE,IADZ;AAEEC,UAAAA,OAAO,EAAE;AAFX,SADK,EAKL,CAAC;AAAEK,UAAAA;AAAF,SAAD,MAAwB;AACtBC,UAAAA,SAAS,CAACC,CAAD,EAAIH,KAAJ,EAAW;AAClB,gBAAI,CAACA,KAAD,IAAUC,aAAa,CAAC,UAAD,CAAb,KAA8BD,KAA5C,EAAmD;AACjD,qBAAOI,OAAO,CAACC,OAAR,EAAP;AACD;;AAED,mBAAOD,OAAO,CAACE,MAAR,CAAe,IAAIC,KAAJ,CAAU,YAAV,CAAf,CAAP;AACD;;AAPqB,SAAxB,CALK,CALP;AAAA,+BAqBA,eAAO,QAAP;AAAgB,UAAA,IAAI,EAAC,iBAArB;AAAuC,UAAA,QAAQ,EAAIT,CAAD,IAAK;AAACX,YAAAA,kBAAkB,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AAAmC;AAA3F;AAAA;AAAA;AAAA;AAAA;AArBA;AAAA;AAAA;AAAA;AAAA,cAtCE,eA8DH,cAAM,IAAN,OAAetB,kBAAf;AAAA,+BACC;AAAQ,UAAA,IAAI,EAAC,SAAb;AAAuB,UAAA,QAAQ,EAAC,QAAhC;AAAyC,UAAA,SAAS,EAAC,sBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cA9DG,eAsEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BAEP;AAAA,oEAGC,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAFO;AAAA;AAAA;AAAA;AAAA,cAtEF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA2FH;;GA1HQE,Q;UAOOV,U;;;KAPPU,Q;AA4HT,eAAeX,OAAO,CACpBuC,KAAK,KAAK;AAAChB,EAAAA,IAAI,EAAEgB,KAAK,CAAChB;AAAb,CAAL,CADe,EAEpB;AAACrB,EAAAA;AAAD,CAFoB,CAAP,CAGbS,QAHa,CAAf","sourcesContent":["\r\n\r\nimport React, { useState, }from 'react';\r\nimport { Form, Input, Button, message } from 'antd'\r\nimport { Link, Redirect} from 'react-router-dom'\r\nimport { connect, } from 'react-redux'\r\nimport { useHistory } from 'react-router';\r\n\r\nimport '../../assets/css/register.css'\r\nimport {register} from '../../redux/actions'\r\n\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n      xs: {\r\n        span: 18,\r\n      },\r\n      sm: {\r\n        span: 7,\r\n      },\r\n    },\r\n    wrapperCol: {\r\n      xs: {\r\n        span: 18,\r\n      },\r\n      sm: {\r\n        span: 18,\r\n      },\r\n    },\r\n};\r\n\r\nconst tailFormItemLayout = {\r\nwrapperCol: {\r\n  xs: {\r\n    span: 24,\r\n    offset: 0,\r\n  },\r\n  sm: {\r\n    span: 10,\r\n    offset: 7,\r\n  },\r\n},\r\n};\r\n\r\n\r\nfunction Register(props) {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n  const [confirmpassword, setconfirmpassword] = useState('')\r\n  \r\n \r\n  let history = useHistory()\r\n  // const dispatch = useDispatch();\r\n\r\n  const onFinish = () => {\r\n    \r\n        if (!username || !password || !confirmpassword) {\r\n          return message.error('未输入用户名或密码')\r\n        }\r\n    props.register({ username, password })\r\n    \r\n    }\r\n    \r\n    // <Redirect to='/login'/>\r\n  const { msg } = props.user\r\n//  console.log(msg);\r\n  // 注册成功后跳转到登录页面\r\n  if (msg === '注册成功！') {\r\n  //  props.history.push('/login')\r\n    // <Redirect to='/login'/>\r\n    history.push('/login')\r\n    \r\n  }\r\n \r\n\r\n    return (\r\n        <div className='RegisterForm'>\r\n                <div className='auth-form-header'>\r\n                <h1 className='register-title'>Sign up </h1>\r\n        </div>\r\n        \r\n        {msg ? <div className='error-msg'>{msg}</div> : null}\r\n\r\n          <Form\r\n              {...formItemLayout}\r\n      name=\"normal_login\"\r\n      className=\"register-form\"\r\n      initialValues={{\r\n        remember: true,\r\n      }}\r\n      onFinish={onFinish}\r\n    >\r\n     <Form.Item\r\n        name=\"username\"\r\n        label=\"用户名\"\r\n        // tooltip=\"What do you want others to call you?\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请输入用户名！',\r\n            whitespace: true,\r\n          },\r\n        ]}\r\n      >\r\n              <Input name='username' onChange={ (e)=>{setUsername(e.target.value)}}/>\r\n      </Form.Item>\r\n                    \r\n     <Form.Item\r\n        name=\"password\"\r\n        label=\"输入密码\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请输入密码！',\r\n          },\r\n        ]}\r\n        hasFeedback\r\n      >\r\n        <Input.Password name='password' onChange={ (e)=>{setPassword(e.target.value)}}/>\r\n      </Form.Item>\r\n              \r\n        <Form.Item\r\n        name=\"confirmpassword\"\r\n        label=\"确认密码\"\r\n        dependencies={['password']}\r\n        hasFeedback\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请确认密码！',\r\n          },\r\n          ({ getFieldValue }) => ({\r\n            validator(_, value) {\r\n              if (!value || getFieldValue('password') === value) {\r\n                return Promise.resolve();\r\n              }\r\n\r\n              return Promise.reject(new Error('两次输入密码不一致！'));\r\n            },\r\n          }),\r\n        ]}\r\n      >\r\n        <Input.Password name=\"confirmpassword\" onChange={ (e)=>{setconfirmpassword(e.target.value)}}/>\r\n            </Form.Item>\r\n            \r\n       <Form.Item {...tailFormItemLayout} >\r\n        <Button type=\"primary\" htmlType=\"submit\" className='register-form-button'>\r\n                注册\r\n        </Button>\r\n              \r\n\r\n            </Form.Item>\r\n            \r\n            <div className='login-prompt'>\r\n     \r\n     <p>\r\n                        已有账号? &nbsp;\r\n    {/* <a href='/login' className='login-text'>去登录</a>  */}\r\n      <Link to='/login'>去登录</Link> \r\n     </p>        \r\n    </div>\r\n              \r\n    </Form>\r\n            \r\n      </div>\r\n    )\r\n}\r\n\r\nexport default connect (\r\n  state => ({user: state.user}),\r\n  {register}\r\n)(Register)"]},"metadata":{},"sourceType":"module"}